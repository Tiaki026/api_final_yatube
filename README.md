# API для проекта YaTube
## Описание
API использует стандартные методы HTTP - GET, POST, PUT, DELETE - для выполнения операций с ресурсами на сервере. Каждый метод имеет свою определенную функцию в системе API. Возвращаемые данные представляются в формате JSON, который является основным форматом для обмена информацией между клиентом и сервером.

- GET: используется для извлечения информации из API. Обычно этот метод используется для запроса ресурса, чтобы получить сведения о нем.

- POST: используется для добавления новых данных в базу данных через API. Этот метод также может использоваться для отправки информации, которую необходимо обработать на сервере.

- PUT: используется для обновления существующей информации в базе данных API. Обычно этот метод используется для обновления ресурса.

- DELETE: используется для удаления информации из базы данных через API. 

В работе реализована авторизация и аутентификация. Для аутентификации используются JWT-токены. У неаутентифицированных пользователей доступ к API имеется только на чтение. Аутентифицированным пользователям разрешено изменение и удаление своего контента.

**В процессе разработки были использованы технологии:**

    Django REST framework (DRF) 3.12
    Django 3.2
    Python 3.9


## Как запустить проект:

### Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:Tiaki026/api_final_yatube.git
```

```
cd api_yatube
```

### Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```
    Если у вас Windows OS:
    ```
    source venv/Scripts/activate
    ```
    Если у вас MacOS/Linux:
    ```
    source venv/bin/activate
    ```

```
python -m pip install --upgrade pip
```

### Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

### Выполнить миграции:

```
python manage.py migrate
```

### Запустить проект:

```
python manage.py runserver
```

### Как пользоваться API

Создаем суперпользователя через терминал
```
python manage.py createsuperuser
```
придумываем имя и пароль
например:
```
tiaki
Nokia3310!
```
Создаем POST-запрос на эндпоинт с логином и паролем.
```
http://127.0.0.1:8000/api/v1/jwt/create/
```
```
{
    "username": "tiaki",
    "password": "Nokia3310!"
}
```
Получаем 2 значения, - resresh и access. Refresh нужен для обновления времени действия токена. Access - сам токен.
```
"refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIj..."
"access": "wYvWmia6rkgpUl8bOljyUoGQ3kQlc8eK18uruRzY..."
```
Этот токен также надо будет передавать в заголовке каждого запроса, в поле Authorization. Перед самим токеном должно стоять ключевое слово Bearer и пробел.
С авторизацией при POST-запросе к данному эндпоинту можно создать пост. Напрмер:
```
http://127.0.0.1:8000/api/v1/posts/
```
```
{
    "text": "Если Вы видите данное сообщение, то значит все работает верно"
}
```
Вот такой результат увидим:
```
{
    "id": 1,
    "text": "Если Вы видите данное сообщение, то значит все работает верно",
    "author": "tiaki",
    "image": null,
    "group": null,
    "pub_date": "2023-05-18T07:11:23.589294Z"
}
```

Так же можем посмотреть список постов отправив GET-запрос на энпоинт:
```
http://127.0.0.1:8000/api/v1/posts/
```

Для подробной информации - ознакомьтесь с документацией:
```
http://127.0.0.1:8000/redoc/
```

Автор: Евгений Колотиков
